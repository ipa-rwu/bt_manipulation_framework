<?xml version='1.0' encoding='utf-8'?>
<root main_tree_to_execute="MainTree">
  <BehaviorTree ID="Initialization">
    <Sequence>
      <UpdateParameter data_type="double" topic="/arm_param_server" />
      <UpdateParameter data_type="string" topic="/gripper_param_server" />
      <UpdateParameter data_type="bool" topic="/flag_param_server" />
    </Sequence>
  </BehaviorTree>
  <BehaviorTree ID="MainTree">
    <Sequence name="Job">
      <Fallback name="Help">
        <Action ID="CheckTaskResult" task_name="FHelp" />
        <Action ID="CallExternHelp" service_name="help_server" />
        <SubTree ID="Initialization" __shared_blackboard="true" />
      </Fallback>
      <Fallback name="task1">
        <Condition ID="CheckTaskResult" task_name="task1detect" />
        <SubTree  __shared_blackboard="true" ID="task1detect" />
        <SubTree  __shared_blackboard="true" ID="NeedHelp" />
      </Fallback>
      <Fallback name="task2">
        <Condition ID="CheckTaskResult" task_name="task2pick" />
        <SubTree  __shared_blackboard="true" ID="task2pick" />
        <SubTree  __shared_blackboard="true" ID="NeedHelp" />
      </Fallback>
      <Fallback name="task3">
        <Condition ID="CheckTaskResult" task_name="task3place" />
        <SubTree  __shared_blackboard="true" ID="task3place" />
        <SubTree  __shared_blackboard="true" ID="NeedHelp" />
      </Fallback>
    </Sequence>
  </BehaviorTree>
</root>
