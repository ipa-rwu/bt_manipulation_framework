<?xml version='1.0' encoding='us-ascii'?>
<root main_tree_to_execute="MainTree">
  <BehaviorTree ID="Initialization">
    <Sequence>
      <UpdateParameter data_type="double" topic="/arm_param_server" />
      <UpdateParameter data_type="string" topic="/gripper_param_server" />
      <UpdateParameter data_type="bool" topic="/flag_param_server" />
    </Sequence>
  </BehaviorTree>
  <BehaviorTree ID="MainTree">
    <Sequence name="Job">
      <Fallback name="Help">
        <Action ID="CheckTaskResult" task_name="FHelp" />
        <Action ID="CallExternHelp" service_name="help_server" />
        <SubTree ID="Initialization" __shared_blackboard="true" />
      </Fallback>
      <Fallback name="task1">
        <SetBlackboard name="setTaskName" output_key="current_task_name" value="task1detect" />
        <Condition ID="CheckTaskResult" task_name="{current_task_name}" />
        <SubTree ID="task1detect" __shared_blackboard="true" />
        <SubTree ID="NeedHelp" __shared_blackboard="true" />
      </Fallback>
      <Fallback name="task2">
        <SetBlackboard name="setTaskName" output_key="current_task_name" value="task2pick" />
        <Condition ID="CheckTaskResult" task_name="{current_task_name}" />
        <SubTree ID="task2pick" __shared_blackboard="true" />
        <SubTree ID="NeedHelp" __shared_blackboard="true" />
      </Fallback>
      <Fallback name="task3">
        <SetBlackboard name="setTaskName" output_key="current_task_name" value="task3place" />
        <Condition ID="CheckTaskResult" task_name="{current_task_name}" />
        <SubTree ID="task3place" __shared_blackboard="true" />
        <SubTree ID="NeedHelp" __shared_blackboard="true" />
      </Fallback>
    </Sequence>
  </BehaviorTree>
<BehaviorTree ID="NeedHelp"><Condition ID="SetFlagTask" success="false" task_name="{current_task_name}" /></BehaviorTree></root>
